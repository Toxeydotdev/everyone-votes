<p-card class="flex" styleClass="surface-200" header="Welcome back!">
  <div class="flex flex-column gap-3">
    <input pInputText placeholder="Email" [(ngModel)]="email" />
    <p-password
      placeholder="Password"
      [(ngModel)]="password"
      [feedback]="false"
      [toggleMask]="true"
    />
    @if (error()) {
    <small class="flex align-items-center gap-1">
      <i class="pi pi-exclamation-circle text-red-500"></i>
      <p class="text-red-500">{{ error() }}</p>
    </small>
    }
  </div>
  <ng-template pTemplate="footer">
    <div class="flex flex-column gap-3">
      <button
        pButton
        icon="pi pi-envelope"
        label="Sign In with Email"
        severity="success"
        [disabled]="!validEmail()"
        [loading]="processing()"
        (click)="login()"
      ></button>

      <button
        pButton
        label="Sign In with Discord"
        icon="pi pi-discord"
        style="background: #7289da"
        [loading]="processing()"
        (click)="loginWithOAuth('discord')"
      ></button>
      <button
        pButton
        label="Sign In with GitHub"
        icon="pi pi-github"
        style="background: #333"
        [loading]="processing()"
        (click)="loginWithOAuth('github')"
      ></button>
      <span
        class="text-sm text-green-500 text-center hover:underline cursor-pointer"
        (click)="this.router.navigate(['/forgot-password'])"
      >
        Forgot Password?
      </span>

      <span class="text-sm text-center">
        Don't have an account?
        <span
          class="text-green-500 text-center hover:underline cursor-pointer"
          (click)="this.router.navigate(['/sign-up'])"
        >
          Sign up!
        </span>
      </span>
    </div>
  </ng-template>
</p-card>
